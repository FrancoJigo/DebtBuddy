<!DOCTYPE html>
<html lang="en">
<head>

  <title>Debt Buddy</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/sidebarNavigation.css">
  <link rel="icon" type="png" href="images/coin1.png">

  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="js/sidebarNavigation.js"></script>
  <!-- <script src="js/debtor.js"></script> -->
  
</head>

<body>
     <nav class="navbar navbar-inverse sidebarNavigation" data-sidebarClass="navbar-inverse" style="border-radius: 0px;">
     <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar" style="padding: 5px 10px;">
              <span class="glyphicon glyphicon-menu-hamburger" style="color: white;"></span>                    
          </button>
         <a class="navbar-brand" href="#"><img src="images/db3.png" style="height: 25px;"></a>
       </div>
       <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
            <li><a href="dash.html"><span class="glyphicon glyphicon-home"></span>&emsp;Home</a></li>
              </li>
                <li><a href="#"><span class="glyphicon glyphicon-user"></span>&emsp;Profile</a></li>
                <li  class="active"><a href="debtor.html"><span class="glyphicon glyphicon-list-alt"></span>&emsp;Debtors</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                 <li><a href="#"><span class="glyphicon glyphicon-log-out"></span>&emsp;Logout</a></li>
            </ul>
        </div>
    </div>
     </nav>




<div class="container" style="padding-top: 15px">


<!-- Modal -->
<div class="modal fade" id="myModalNorm" tabindex="-1" role="dialog" 
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="padding-top: 50px;">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" 
                   data-dismiss="modal">
                       <span aria-hidden="true">&times;</span>
                       <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="myModalLabel">Add Debtor</h4>
            </div>
            
            <!-- Modal Body -->
            <div class="modal-body">
                
                <form role="form">
                  <div class="form-group">
                    <!-- <label for="fname">First Name</label> -->
                      <input type="first_name" class="form-control"
                      id="first_name" placeholder="Debtor's First Name"/>
                  </div>

                  <div class="form-group">
                    <!-- <label for="lname">Last Name</label> -->
                      <input type="last_name" class="form-control"
                      id="last_name" placeholder="Debtor's Last Name"/>
                  </div>

                  <div class="form-group">
                    <!-- <label for="contact">Contact Number</label> -->
                      <input type="contact" class="form-control"
                      id="contact" placeholder="Debtor's Contact Number"/>
                  </div>
                  
                  <div class="form-group">
                    <!-- <label for="address">Address</label> -->
                      <input type="address" class="form-control"
                      id="address" placeholder="Debtor's Home Address"/>
                  </div>
                  
                </form>
                
                
            </div>
            
            <!-- Modal Footer -->
            <div class="modal-footer">
                <button id="addDebtor" type="button" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>
</div>





<h3>Debtors</h3>

<p>list of Debtors here. acilisis laoreet. Donec lacus nunc, viverra nec, blandit vel, egestas et, augue. Vestibulum tincidunt malesuada tellus. Ut ultrices ultrices enim. Curabitur sit amet mauris. Morbi in dui quis est pulvinar ullamcorper. Nulla facilisi. Integer lacinia sollicitudin massa. Cras metus. Sed aliquet risus a tortor. Integer id quam. Morbi mi. </p>

<!-- Button trigger modal -->
<button class="btn btn-primary btn-lg" style="border-radius: 26px" data-toggle="modal" data-target="#myModalNorm"><span class="glyphicon glyphicon-plus"></span></button>


</div>

</body>



<script type="text/javascript">
  $(document).ready(function() {
    alert("ready!");
    $(document).on('click', '#addDebtor', function(){

     var form = document.getElementById('myModalNorm');
     var first_name = document.getElementById('first_name').value;
     var last_name = document.getElementById('last_name').value;
     var contact = document.getElementById('contact').value;
     var address = document.getElementById('address').value;
    alert(first_name);
    if (first_name != "" && last_name != "" && contact != "" && address != ""){
     var adata = {
      "first_name": first_name, 
      "last_name": last_name,
      "contact": contact,
      "address": address
     }

    $.ajax({
      type: "POST",
      url: "http://debtbuddy.herokuapp.com/addDebtor",
      data: JSON.stringify(adata),
      dataType: "json",
      contentType: "application/json",
      success: function() {
        alert("it works! your debtor is saved. noice.");
        // $adata.append('<li>first_name: '+ newAdata.first__name +'last_name: '+newAdata.last_name+' contact: '+newAdata.contact+'address: '+newAdata.address+'</li>');
      },
      error: function(result){
       alert("error. try again!");
      }
    })
  }
else{
  alert("fill me up!");



 $.ajax({
      type: "GET",
      url: "http://debtbuddy.herokuapp.com/getDebtor",
      data: JSON.stringify(adata),
      dataType: "json",
      contentType: "application/json",
})

}
})
});



</script>


</html>